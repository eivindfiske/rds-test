@page
@model rds_test.Pages.StatisticsModel
@{
    ViewData["Title"] = "Statistics";
}

<link rel="stylesheet" href="../css/index.css">

<div class="container-fluid"> 
    <div class="row">
        <div class="filterbar col-2 pt-5">
        
        <input class="form-control mr-sm-2" type="search" placeholder="SÃ¸k.." aria-label="Search" id="txtSearch"/>
        
        <h2>Filter Anything</h2>

         <div class="form-check">
                <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="">Option 1
                </label>
            </div>

        <div class="form-check">
                <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="">Option 1
                </label>
            </div>
        
        <div class="form-check">
                <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="">Option 1
                </label>
            </div>
        
        <div class="form-check">
                <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="">Option 1
                </label>
            </div>
        
        <div class="form-check">
                <label class="form-check-label">
                <input type="checkbox" class="form-check-input" value="">Option 1
                </label>
            </div>
        </div>

          

    <div class="suggestionColumn col-md-10 pt-4"> Statistikk

        <div id="chart"></div>

        @section Scripts
        {
            <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

            <script type="text/javascript">
                google.charts.load('current', {'packages':['corechart']});
                google.charts.setOnLoadCallback(drawChart);

                function drawChart() {
                var jsonData = $.ajax({
                    url: "/Statistics?handler=ChartData",
                    dataType: "json",
                    async: false
                    }).responseText;

                var data = new google.visualization.DataTable(jsonData);
                    
                    data.addColumn('string', 'name');//create title
                    data.addColumn('number', 'case_num');//create title
                    for (var i = 0; i < jsonData.length; i++) { //loop through the json data and assign the value to data
                        data.addRow([jsonData[i].case_num, jsonData[i].name]);
                    }
                // Set chart options
                var options = {'title':'Participants',
                            'width':600,
                            'height':500};

                // Instantiate and draw our chart, passing in some options.
                var chart = new google.visualization.BarChart(document.getElementById('chart'));
                chart.draw(data, options);
            }
            </script>
            }  
            </div>
        </div>
    </div>
</div>


   